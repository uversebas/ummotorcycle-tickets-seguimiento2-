<div class="col-lg-12 mb-5">
  <div class="card">
    <div class="card-header">
      <h3 class="h6 text-uppercase mb-0">Ticket solution</h3>
    </div>
    <div class="card-body">
      <form [formGroup]="formularioSolucion" (ngSubmit)="onSubmitSend()">
        <div class="form-group row">
          <div class="col-lg-12">
            <label for="comentario" class="form-control-label text-uppercase">Comment</label>
            <textarea autosize name="comentario" id="comentario" formControlName="comentario" class="form-control"
              rows="3" placeholder="Please write a comment ..." style="resize: none"
              [ngClass]="{ 'is-invalid': submitted && f.comentario.errors}"></textarea>
            <div *ngIf="submitted && f.comentario.errors" class="invalid-feedback">
              <div *ngIf="f.comentario.errors.required">
                This field is required
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <fieldset class="col-lg-12">
            <legend>Supplier documents</legend>
            <ng-container *ngFor="let documento of documentosSoporte">
              <div class="form-group row">
                <div class="col-lg-3">
                  <label for="mostrarCliente" class="form-control-label text-uppercase">show client</label><br>
                  <input [disabled]="!habilitado" type="checkbox" [(ngModel)]="documento.mostrarCliente" [ngModelOptions]="{standalone: true}" />
                </div>
                <div class="col-lg-4">
                  <label for="documento" class="form-control-label text-uppercase">type</label><br>
                  <span>{{obtenerTipoDocumento(documento.tipo.id)}}</span>
                </div>
                <div class="col-lg-5">
                  <label for="documento" class="form-control-label text-uppercase">document</label><br>
                  <a href="{{documento.documento.url}}" download tooltip="{{documento.documento.nombre}}">
                    <img src="/assets/images/document.png" alt="document">
                  </a>
                </div>
              </div>
            </ng-container>
          </fieldset>
        </div>
        <div class="form-group row" *ngIf="habilitado">
          <fieldset class="col-lg-12">
            <legend>Additional document</legend>
            <div class="form-group row">
              <div class="col-lg-6">
                <label for="documento" class="form-control-label text-uppercase">type</label>
                <select id="tipo" name="tipo" formControlName="tipo" class="form-control"
                  [(ngModel)]="tipoDocumentoSeleccionado" [ngClass]="{ 'is-invalid': submitted && mostrarAlertaTipo }"
                  (change)="seleccionarTipo()">
                  <option hidden value="null" disabled selected>
                    Select document type
                  </option>
                  <option [ngValue]="tipo" *ngFor="let tipo of tiposDocumentos">
                    {{ tipo.nombre }}
                  </option>
                </select>
                <div *ngIf="submitted && mostrarAlertaTipo" class="invalid-feedback">
                  <div *ngIf="mostrarAlertaTipo">
                    This field is required
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <label for="documentoAdicional" class="form-control-label text-uppercase">document</label><br>
                <input type="file" id="documentoAdicional" name="documentoAdicional" formControlName="documentoAdicional"
                  (change)="subirDocumento($event)">
              </div>
            </div>
          </fieldset>
        </div>
        <div class="line"></div>
        <div class="row" *ngIf="habilitado">
          <div class="col-lg-12 zona-botones">
            <button type="button" class="btn btn-secondary cancelar botonera" (click)="cancel()">
              Cancel
            </button>
            <button type="submit" class="btn btn-success um-success botonera">
              Send
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
  <p style="font-size: 20px; color: white">Processing...</p>
</ngx-spinner>